<div *ngIf="detailsType === 'Customer'" class="card overflowvisible" widget="">
  <div class="card-header">
    <span class="card-heading text-uppercase">Customer Details & History </span>

    <div class="widget-controls">
      <button class="btn btn-outline-info btn-rounded btn-xs transition" type="button" title="Back" onclick="window.history.back()">
       <span class="fa fa-arrow-left"></span>
     </button>
      <button class="btn btn-outline-info btn-rounded btn-xs transition" type="button" data-widgster="expand" style="display: none;">
        <span class="fa fa-chevron-down"></span>
      </button>
      <button class="btn btn-outline-info btn-rounded btn-xs transition" type="button" data-widgster="collapse">
        <span class="fa fa-chevron-up"></span>
      </button>
      <button class="btn btn-outline-info btn-rounded btn-xs transition" type="button" data-widgster="fullscreen">
        <span class="fa fa-expand"></span>
      </button>
      <button class="btn btn-outline-info btn-rounded btn-xs transition" type="button" data-widgster="restore" style="display: none;">
        <span class="fa fa-compress"></span>
      </button>
    </div>
  </div>
  <div class="card-body widget-body">
    <!--For Showing Details Of the Product-->
    <div class="col bottom-30 typography">

      <div class="row">
        <div *ngIf="customerDetails?.firstName" class="col-md-6 row">
          <dt class="col-sm-6 text-right">First Name :</dt>
          <dd class="col-sm-6  textfloat " title="{{customerDetails.displayName}}">{{customerDetails.firstName}} </dd>
        </div>

        <div *ngIf="customerDetails?.lastName" class="col-md-6 row">
          <dt class="col-sm-6 text-right">Last Name :</dt>
          <dd class="col-sm-6  textfloat " title="{{customerDetails.displayName}}">{{customerDetails.lastName}} </dd>
        </div>

        <div *ngIf="customerDetails?.email" class="col-md-6 row">
          <dt class="col-sm-6 text-right">Email :</dt>
          <dd class="col-sm-6 ">{{customerDetails.email }} </dd>
        </div>

        <div *ngIf="customerDetails?.phoneNumber" class="col-md-6 row">
          <dt class="col-sm-6 text-right">Phone :</dt>
          <dd class="col-sm-6">{{customerDetails.phoneNumber }}</dd>
        </div>

        <div *ngIf="customerDetails?.status" class="col-md-6 row">
          <dt class="col-sm-6 text-right">Status :</dt>
          <dd class="col-sm-6 ">
            <span *ngIf="customerDetails.status" class="badge badge-{{appService.getStatusColor(customerDetails.status) }}">
                 {{ customerDetails.status }} 
             </span>
          </dd>
        </div>

        <div *ngIf="customerDetails?.noOfProductsBuy" class="col-md-6 row">
          <dt class="col-sm-6 text-right">Products Bought :</dt>
          <dd class="col-sm-6">{{customerDetails?.noOfProductsBuy }}</dd>
        </div>

        <div *ngIf="customerDetails?.totalAmount" class="col-md-6 row">
          <dt class="col-sm-6 text-right">Amount Spent :</dt>
          <dd class="col-sm-6">{{customerDetails?.totalAmount }}</dd>
        </div>

        <div *ngIf="customerDetails?.wallet" class="col-md-6 row">
          <dt class="col-sm-6 text-right">BUX Tradable :</dt>
          <dd class="col-sm-6">{{customerDetails.wallet?.BUX }}</dd>
        </div>

        <div *ngIf="customerDetails?.wallet" class="col-md-6 row">
          <dt class="col-sm-6 text-right">EUROS :</dt>
          <dd class="col-sm-6">{{customerDetails.wallet?.EUR }}</dd>
        </div>

        <div *ngIf="customerDetails?.lastActivity" class="col-md-6 row">
          <dt class="col-sm-6 text-right">Last Activity :</dt>
          <dd class="col-sm-6">{{ appService.getDisplayDateFormat(customerDetails?.lastActivity,'MM/DD/YYYY hh:mm:ss a')}}</dd>
        </div>

      </div>
    </div>
  </div>
</div>
<!--For Showing Details Of the Customer-->

<!--For Showing Mercahnt Details-->
<div *ngIf="detailsType === 'Merchant'" class="card overflowvisible" widget="">
  <div class="card-header">
    <span class="card-heading text-uppercase">Merchant Details & History </span>

    <div class="widget-controls">
      <button class="btn btn-outline-info btn-rounded btn-xs transition" type="button" title="Back" onclick="window.history.back()">
       <span class="fa fa-arrow-left"></span>
     </button>
      <button class="btn btn-outline-info btn-rounded btn-xs transition" type="button" data-widgster="expand" style="display: none;">
        <span class="fa fa-chevron-down"></span>
      </button>
      <button class="btn btn-outline-info btn-rounded btn-xs transition" type="button" data-widgster="collapse">
        <span class="fa fa-chevron-up"></span>
      </button>
      <button class="btn btn-outline-info btn-rounded btn-xs transition" type="button" data-widgster="fullscreen">
        <span class="fa fa-expand"></span>
      </button>
      <button class="btn btn-outline-info btn-rounded btn-xs transition" type="button" data-widgster="restore" style="display: none;">
        <span class="fa fa-compress"></span>
      </button>
    </div>
  </div>
  <div class="card-body widget-body">
    <!--For Showing Details Of the Product-->
    <div class="col bottom-30 typography">

      <div class="row">
        <div *ngIf="merchantDetails?.companyName" class="col-md-6 row">
          <dt class="col-sm-5 text-right">Company Name :</dt>
          <dd class="col-sm-7  textfloat">{{merchantDetails.companyName}} </dd>
        </div>

        <div *ngIf="merchantDetails?.displayName" class="col-md-6 row">
          <dt class="col-sm-5 text-right">Contact Person :</dt>
          <dd class="col-sm-7  textfloat">{{merchantDetails.displayName}} </dd>
        </div>

        <div *ngIf="merchantDetails?.email" class="col-md-6 row">
          <dt class="col-sm-5 text-right">Email :</dt>
          <dd class="col-sm-7" title="{{merchantDetails?.email}}">{{merchantDetails?.email }} </dd>
        </div>

        <div *ngIf="merchantDetails?.phoneNumber" class="col-md-6 row">
          <dt class="col-sm-5 text-right">Phone :</dt>
          <dd class="col-sm-7">{{merchantDetails?.phoneNumber }}</dd>
        </div>

        <div *ngIf="merchantDetails?.status" class="col-md-6 row">
          <dt class="col-sm-5 text-right">Status :</dt>
          <dd class="col-sm-7 ">
            <span *ngIf="merchantDetails?.status" class="badge badge-{{appService.getStatusColor(merchantDetails?.status) }}">
                 {{ merchantDetails?.status }} 
             </span>
          </dd>
        </div>

        <div *ngIf="merchantDetails?.location" class="col-md-6 row">
          <dt class="col-sm-5 text-right">Location :</dt>
          <dd class="col-sm-7"> {{merchantDetails?.location }} </dd>
        </div>

        <div *ngIf="merchantDetails?.brand" class="col-md-6 row">
          <dt class="col-sm-5 text-right">Brand :</dt>
          <dd class="col-sm-7"> {{merchantDetails?.brand }} </dd>
        </div>

        <div *ngIf="merchantDetails?.productCategory" class="col-md-6 row">
          <dt class="col-sm-5 text-right">Product Category :</dt>
          <dd class="col-sm-7"> {{merchantDetails?.productCategory }} </dd>
        </div>

        <div *ngIf="merchantDetails?.noOfProducts" class="col-md-6 row">
          <dt class="col-sm-5 text-right">Total Products :</dt>
          <dd class="col-sm-7"> {{merchantDetails?.noOfProducts }} </dd>
        </div>

        <div *ngIf="merchantDetails?.website" class="col-md-6 row">
          <dt class="col-sm-5 text-right">Website :</dt>
          <dd class="col-sm-7"> {{merchantDetails?.website }} </dd>
        </div>

        <div *ngIf="merchantDetails?.lastActivity" class="col-md-6 row">
          <dt class="col-sm-5 text-right">Last Activity :</dt>
          <dd class="col-sm-7"> {{ appService.getDisplayDateFormat(merchantDetails?.lastActivity,'MM/DD/YYYY hh:mm:ss a')}} </dd>
        </div>

        <div *ngIf="merchantDetails?.wallet" class="col-md-6 row">
          <dt class="col-sm-5 text-right">BUX Tradable :</dt>
          <dd class="col-sm-7">{{merchantDetails?.wallet?.BUX }}</dd>
        </div>

        <div *ngIf="merchantDetails?.wallet" class="col-md-6 row">
          <dt class="col-sm-5 text-right">EURO :</dt>
          <dd class="col-sm-7">{{merchantDetails?.wallet?.EUR }}</dd>
        </div>

      </div>
    </div>
  </div>
</div>
<!--For Showing Mercahnt Details-->

<!--For Showing Details Of the Product-->
<div *ngIf="detailsType === 'Product'" class="card overflowvisible" widget="">
  <div class="card-header">
    <span class="card-heading text-uppercase">Product Details </span>

    <div class="widget-controls">
      <button class="btn btn-outline-info btn-rounded btn-xs transition" type="button" title="Back" onclick="window.history.back()">
        <span class="fa fa-arrow-left"></span>
      </button>
      <button class="btn btn-outline-info btn-rounded btn-xs transition" type="button" data-widgster="expand" style="display: none;">
        <span class="fa fa-chevron-down"></span>
      </button>
      <button class="btn btn-outline-info btn-rounded btn-xs transition" type="button" data-widgster="collapse">
        <span class="fa fa-chevron-up"></span>
      </button>
      <button class="btn btn-outline-info btn-rounded btn-xs transition" type="button" data-widgster="fullscreen">
        <span class="fa fa-expand"></span>
      </button>
      <button class="btn btn-outline-info btn-rounded btn-xs transition" type="button" data-widgster="restore" style="display: none;">
        <span class="fa fa-compress"></span>
      </button>
    </div>
  </div>
  <div class="card-body widget-body">
    <!--For Showing Details Of the Product-->
    <div class="col bottom-30 typography">

      <div class="row">
        <div *ngIf="productDetails?.name" class="col-md-12 row">
          <dt class="col-sm-3 text-right">Name :</dt>
          <dd class="col-sm-9 " title="{{productDetails?.name}}">{{productDetails?.name}} </dd>
        </div>

        <div *ngIf="productDetails?.shortDesc" class="col-md-12 row">
          <dt class="col-sm-3 text-right">Short Description :</dt>
          <dd class="col-sm-9 " title="{{productDetails?.shortDesc}}">{{productDetails?.shortDesc}}</dd>
        </div>

        <div *ngIf="productDetails?.images" class="col-md-12 row">
          <dt class="col-sm-3  text-right">Images &nbsp;:</dt>
        </div>
        <div *ngFor="let image of productDetails.images;let i=index" class="col-md-12 row">
          <div class="col-sm-3  text-right">{{ image.Color }} &nbsp;:</div>
          <div class="col-sm-9 row">
            <div *ngFor="let img of image.images" class="col-sm-3">
              <img class="img-fluid logo-height mt-2" style="height: 120px;width: 150px" src={{imagesPath}}{{img}}>
            </div>
          </div>
        </div>

        <div *ngIf="productDetails?.longDesc" class="col-md-12 row">
          <dt class="col-sm-3 text-right">Description :</dt>
          <dd class="col-sm-9 text-left">
            <span [innerHTML]="productDetails.longDesc"></span>
          </dd>
        </div>

      </div>

    </div>
  </div>
</div>
<!--For Showing Details Of the Product-->

<!--For showing the details of orders-->
<div *ngIf="detailsType === 'Order'" class="card overflowvisible" widget="">
  <div class="card-header">
    <span class="card-heading text-uppercase">Order Details & History</span>

    <div class="widget-controls">
      <button class="btn btn-outline-info btn-rounded btn-xs transition" type="button" title="Back" onclick="window.history.back()">
       <span class="fa fa-arrow-left"></span>
     </button>
      <button class="btn btn-outline-info btn-rounded btn-xs transition" type="button" data-widgster="expand" style="display: none;">
        <span class="fa fa-chevron-down"></span>
      </button>
      <button class="btn btn-outline-info btn-rounded btn-xs transition" type="button" data-widgster="collapse">
        <span class="fa fa-chevron-up"></span>
      </button>
      <button class="btn btn-outline-info btn-rounded btn-xs transition" type="button" data-widgster="fullscreen">
        <span class="fa fa-expand"></span>
      </button>
      <button class="btn btn-outline-info btn-rounded btn-xs transition" type="button" data-widgster="restore" style="display: none;">
        <span class="fa fa-compress"></span>
      </button>
    </div>
  </div>
  <div class="card-body widget-body">

    <!--For Showing Details Of Order-->
    <div class="col bottom-30 typography">

      <div class="row">
        <div *ngIf="orderDetails?.invoiceNo" class="col-md-6 row">
          <dt class="col-sm-5 text-right">Invoice No :</dt>
          <dd class="col-sm-7 textfloat" title="{{orderDetails?.invoiceNo}}">{{orderDetails?.invoiceNo}} </dd>
        </div>
        <div *ngIf="orderDetails?.entityName" class="col-md-6 row">
          <dt class="col-sm-5 text-right">Product :</dt>
          <dd class="col-sm-7 textfloat" title="{{orderDetails?.entityName}}">{{orderDetails?.entityName}} </dd>
        </div>

        <div *ngIf="orderDetails?.category" class="col-md-6 row">
          <dt class="col-sm-5 text-right">Category :</dt>
          <dd class="col-sm-7 ">{{orderDetails?.category}} </dd>
        </div>

        <div *ngIf="orderDetails?.deliveryDate" class="col-md-6 row">
          <dt class="col-sm-5 text-right">Delivery Date :</dt>
          <dd class="col-sm-7 ">{{appService.getDisplayDateFormat(orderDetails?.deliveryDate,'MM/DD/YYYY hh:mm:ss a')}} </dd>
        </div>

        <div *ngIf="orderDetails?.deliveryDays" class="col-md-6 row">
          <dt class="col-sm-5 text-right">Delivery Days :</dt>
          <dd class="col-sm-7 "><span class="badge badge-pill badge-info"> {{orderDetails?.deliveryDays}}</span> </dd>
        </div>
        <div *ngIf="orderDetails?.quantity" class="col-md-6 row">
          <dt class="col-sm-5 text-right">Quantity :</dt>
          <dd class="col-sm-7 ">{{orderDetails?.quantity}} </dd>
        </div>
        <div *ngIf="orderDetails?.currencies" class="col-md-6 row">
          <dt class="col-sm-5 text-right">Price (USD):</dt>
          <dd class="col-sm-7 ">{{appService.decimalValues(orderDetails?.currencies[iter]?.USD)}}</dd>
        </div>
        <div *ngIf="orderDetails?.currencies" class="col-md-6 row">
          <dt class="col-sm-5 text-right">Price (BUX):</dt>
          <dd class="col-sm-7 ">{{appService.decimalValues(orderDetails?.currencies[iter+1]?.BUX)}}</dd>
        </div>

        <div *ngIf="orderDetails&& orderDetails.shippingRateCurrencies &&orderDetails.shippingRateCurrencies.length>0" class="col-md-6 row">
          <dt class="col-sm-5 text-right">Shipping Charges (USD):</dt>
          <dd class="col-sm-7 "> {{appService.decimalValues(orderDetails?.shippingRateCurrencies[iter]?.USD)}} </dd>
        </div>

        <div *ngIf="orderDetails?.shippingCharges || orderDetails?.shippingCharges == 0" class="col-md-6 row">
          <dt class="col-sm-5 text-right">Shipping Charges (BUX):</dt>
          <dd class="col-sm-7 "> {{appService.decimalValues(orderDetails?.shippingCharges)}} </dd>
        </div>

        <div *ngIf="orderDetails?.totalPrice" class="col-md-6 row">
          <dt class="col-sm-5 text-right">Total Price (USD):</dt>
          <dd class="col-sm-7 "> {{appService.decimalValues(orderDetails?.totalInUsd)}} </dd>
        </div>

        <div *ngIf="orderDetails?.totalPrice" class="col-md-6 row">
          <dt class="col-sm-5 text-right">Total Price (BUX):</dt>
          <dd class="col-sm-7 "> {{appService.decimalValues(orderDetails?.totalPrice)}} </dd>
        </div>

        <div *ngIf="orderDetails?.status" class="col-md-6 row">
          <dt class="col-sm-5 text-right">Status :</dt>
          <dd class="col-sm-7 textfloat">
            <span *ngIf="orderDetails?.status" class="badge badge-{{appService.getStatusColor(orderDetails?.status) }}">
                 {{ orderDetails?.status }}  </span>
          </dd>
        </div>

        <div *ngIf="orderDetails?.inventory?.Size" class="col-md-6 row">
          <dt class="col-sm-5 text-right">Size :</dt>
          <dd class="col-sm-7 ">{{orderDetails?.inventory?.Size}} </dd>
        </div>
        <div *ngIf="orderDetails?.inventory?.Color" class="col-md-6 row">
          <dt class="col-sm-5 text-right">Color :</dt>
          <dd class="col-sm-7 ">{{orderDetails?.inventory?.Color}}</dd>
        </div>

        <div *ngIf="orderDetails?.created" class="col-md-6 row">
          <dt class="col-sm-5 text-right">Created :</dt>
          <dd class="col-sm-7 ">{{appService.getDisplayDateFormat(orderDetails?.created)}} </dd>
        </div>

        <div *ngIf="orderDetails?.userName" class="col-md-6 row">
          <dt class="col-sm-5 text-right">Created By :</dt>
          <dd class="col-sm-7 ">{{orderDetails?.userName}}</dd>
        </div>

        <div *ngIf="orderDetails?.ownerName" class="col-md-6 row">
          <dt class="col-sm-5 text-right">Sold By :</dt>
          <dd class="col-sm-7 ">{{orderDetails?.ownerName}}</dd>
        </div>
      </div>

      <div *ngIf="orderDetails?.inventory" class="row">
        <div class="col-md-6 row">
          <dt class="col-sm-5 text-right">Inventory :</dt>
          <dd class="col-sm-7 text-right">
            <table>
              <tr>
                <th class="textfloat" title="{{key}}" *ngFor="let key of objectKeys(orderDetails?.inventory)">{{key}}</th>
              </tr>
              <tr>
                <td class="textfloat" title="{{orderDetails?.inventory[key]}}" *ngFor="let key of objectKeys(orderDetails?.inventory)"> {{orderDetails?.inventory[key]}} </td>
              </tr>
            </table>
          </dd>
        </div>
      </div>

      <div class="row justify-content-center">

        <div *ngIf="orderDetails?.shipmentAddress" class="col-lg-4 col-md-6 col-sm-12 bottom-30 ">
          <div class="card h-100">
            <div class="card-header">
              <b>  Ship To </b>
            </div>
            <div class="card-body">
              <div>
                <label>
              <b>Name:&nbsp; {{orderDetails?.shipmentAddress.name}}</b>
            </label>
              </div>
              <div>
                <label>Street:&nbsp; {{orderDetails?.shipmentAddress.street}} </label>
              </div>
              <div>
                <label>Adress:&nbsp; {{orderDetails?.shipmentAddress.city}},{{orderDetails?.shipmentAddress.state}},{{orderDetails?.shipmentAddress.zip}}</label>
              </div>
              <div>
                <label>Country:&nbsp; {{orderDetails?.shipmentAddress.country}} {{orderDetails?.shipmentAddress.countryCode}} </label>
              </div>
              <div>
                <label>Phone:&nbsp; {{orderDetails?.shipmentAddress.phone}}</label>
              </div>
            </div>
          </div>
        </div>

        <div *ngIf="orderDetails?.shippingFrom" class="col-lg-4 col-md-6 col-sm-12 bottom-30 ">
          <div class="card h-100">
            <div class="card-header">
              <b>  Ship From </b>
            </div>
            <div class="card-body">
              <div>
                <label>
              <b>Name:&nbsp; {{orderDetails?.shippingFrom.name}}</b>
            </label>
              </div>
              <div>
                <label>Street:&nbsp; {{orderDetails?.shippingFrom.street}} </label>
              </div>
              <div>
                <label>Address:&nbsp; {{orderDetails?.shippingFrom.city}},{{orderDetails?.shippingFrom.state}},{{orderDetails?.shippingFrom.zip}}</label>
              </div>
              <div>
                <label>Country:&nbsp;{{orderDetails?.shippingFrom.country}} {{orderDetails?.shippingFrom.countryCode}} </label>
              </div>
              <div>
                <label>Phone: &nbsp;{{orderDetails?.shippingFrom.phone}}</label>
              </div>
            </div>
          </div>
        </div>

        <div *ngIf="orderDetails?.shippingRateDetails" class="col-lg-4 col-md-6 col-sm-12 bottom-30 ">
          <div class="card h-100">
            <div class="card-header">
              <b>  Shipping Rates </b>
            </div>
            <div class="card-body">
              <div>
                <label>
              <b> Delivered on:&nbsp; {{appService.getDisplayDateFormat(orderDetails?.shippingRateDetails.estimatedDeliveryOn)}}</b>
            </label>
              </div>
              <div>
                <label>Amount:&nbsp; {{orderDetails?.shippingRateDetails.shippingAmount}} </label>
              </div>
              <div>
                <label>Courier Name:&nbsp; {{orderDetails?.shippingRateDetails.carrierName}}</label>
              </div>
              <div>
                <label>Service Type:&nbsp; {{orderDetails?.shippingRateDetails.serviceType}}  </label>
              </div>
              <div>
                <label>Delivered  in:&nbsp; {{orderDetails?.shippingRateDetails.expectedDeliviryDays}}</label>
              </div>
            </div>
          </div>
        </div>

      </div>


    </div>
  </div>
</div>
  <!--For Showing Details Of Order-->

  <br>

  <!--Ptable For Showing The Activities -->
  <p-table #dt [value]="activityHistory" [lazy]="true" (onLazyLoad)="getHistory($event)" [paginator]="true" [rows]="appService.rowNum"
    [rows]="20" [rowsPerPageOptions]="appService.rowValue" [totalRecords]="totalRecords" [responsive]="true" [resizableColumns]="true">
    <ng-template pTemplate="header">
      <tr>
        <th pResizableColumn style="width:60px">S.No</th>
        <th pResizableColumn>Context
          <span [pSortableColumn]="'context'">
              <p-sortIcon [field]="'context'"></p-sortIcon>
            </span>
          <input pInputText type="text" class="width_100" (input)="dt.filter($event.target.value,'context','startsWith')" placeholder="Search">
        </th>
        <th pResizableColumn>Context Type
          <span [pSortableColumn]="'contextType'">
              <p-sortIcon [field]="'contextType'"></p-sortIcon>
            </span>
          <input pInputText type="text" class="width_100" (input)="dt.filter($event.target.value,'contextType','startsWith')" placeholder="Search">
        </th>
        <th pResizableColumn>Description
          <span [pSortableColumn]="'desc'">
              <p-sortIcon [field]="'desc'"></p-sortIcon>
            </span>
          <input pInputText type="text" class="width_100" (input)="dt.filter($event.target.value,'desc','startsWith')" placeholder="Search">
        </th>
        <th pResizableColumn>Created
          <span [pSortableColumn]="'created'">
              <p-sortIcon [field]="'created'"></p-sortIcon>
            </span>
          <input pInputText type="text" class="width_100" (input)="dt.filter($event.target.value,'created','startsWith')" placeholder="Search">
        </th>

      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-history>
      <tr>
        <td>{{history?.srNo}} </td>
        <td>{{history?.context}}</td>
        <td>{{history?.contextType}}</td>
        <td class="textfloat">{{history?.desc}}</td>
        <td>{{appService.getDisplayDateFormat(history?.created,'MM/DD/YYYY hh:mm:ss a')}}</td>
      </tr>
    </ng-template>
    </p-table>
    <!--Ptable For Showing The Activities Of the Product-->